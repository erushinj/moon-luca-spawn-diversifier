local tweak_mapping = {
	[("units/payday2/characters/ene_fbi_1/ene_fbi_1"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_fbi_2/ene_fbi_2"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_fbi_3/ene_fbi_3"):key()] = "zeal_swat",

	[("units/payday2/characters/ene_swat_1/ene_swat_1"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_fbi_swat_1/ene_fbi_swat_1"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_city_swat_1/ene_city_swat_1"):key()] = "zeal_swat",
	[("units/pd2_dlc_gitgud/characters/ene_zeal_swat/ene_zeal_swat"):key()] = "zeal_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_cs_swat_ak47_ass/ene_akan_cs_swat_ak47_ass"):key()] = "zeal_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_fbi_swat_ak47_ass/ene_akan_fbi_swat_ak47_ass"):key()] = "zeal_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_fbi_swat_dw_ak47_ass/ene_akan_fbi_swat_dw_ak47_ass"):key()] = "zeal_swat",
	[("units/pd2_dlc_hvh/characters/ene_swat_hvh_1/ene_swat_hvh_1"):key()] = "zeal_swat",
	[("units/pd2_dlc_hvh/characters/ene_fbi_swat_hvh_1/ene_fbi_swat_hvh_1"):key()] = "zeal_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_light/ene_murkywater_light"):key()] = "zeal_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_light_fbi/ene_murkywater_light_fbi"):key()] = "zeal_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_light_city/ene_murkywater_light_city"):key()] = "zeal_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_policia_federale/ene_swat_policia_federale"):key()] = "zeal_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_policia_federale_fbi/ene_swat_policia_federale_fbi"):key()] = "zeal_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_policia_federale_city/ene_swat_policia_federale_city"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_swat_2/ene_swat_2"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_fbi_swat_2/ene_fbi_swat_2"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_city_swat_2/ene_city_swat_2"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_city_swat_r870/ene_city_swat_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_cs_swat_r870/ene_akan_cs_swat_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_fbi_swat_r870/ene_akan_fbi_swat_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_fbi_swat_dw_r870/ene_akan_fbi_swat_dw_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_hvh/characters/ene_swat_hvh_2/ene_swat_hvh_2"):key()] = "zeal_swat",
	[("units/pd2_dlc_hvh/characters/ene_fbi_swat_hvh_2/ene_fbi_swat_hvh_2"):key()] = "zeal_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_light_r870/ene_murkywater_light_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_light_fbi_r870/ene_murkywater_light_fbi_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_light_city_r870/ene_murkywater_light_city_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_policia_federale_r870/ene_swat_policia_federale_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_policia_federale_fbi_r870/ene_swat_policia_federale_fbi_r870"):key()] = "zeal_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_policia_federale_city_r870/ene_swat_policia_federale_city_r870"):key()] = "zeal_swat",
	[("units/payday2/characters/ene_city_swat_3/ene_city_swat_3"):key()] = "zeal_swat",

	[("units/payday2/characters/ene_swat_heavy_1/ene_swat_heavy_1"):key()] = "zeal_heavy_swat",
	[("units/payday2/characters/ene_fbi_heavy_1/ene_fbi_heavy_1"):key()] = "zeal_heavy_swat",
	[("units/payday2/characters/ene_city_heavy_g36/ene_city_heavy_g36"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_cs_heavy_ak47_ass/ene_akan_cs_heavy_ak47_ass"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_fbi_heavy_g36/ene_akan_fbi_heavy_g36"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_gitgud/characters/ene_zeal_swat_heavy/ene_zeal_swat_heavy"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_hvh/characters/ene_swat_heavy_hvh_1/ene_swat_heavy_hvh_1"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_hvh/characters/ene_fbi_heavy_hvh_1/ene_fbi_heavy_hvh_1"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_heavy/ene_murkywater_heavy"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_heavy_g36/ene_murkywater_heavy_g36"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_heavy_policia_federale/ene_swat_heavy_policia_federale"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_heavy_policia_federale_g36/ene_swat_heavy_policia_federale_g36"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_heavy_policia_federale_fbi/ene_swat_heavy_policia_federale_fbi"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_heavy_policia_federale_fbi_g36/ene_swat_heavy_policia_federale_fbi_g36"):key()] = "zeal_heavy_swat",
	[("units/payday2/characters/ene_swat_heavy_r870/ene_swat_heavy_r870"):key()] = "zeal_heavy_swat",
	[("units/payday2/characters/ene_fbi_heavy_r870/ene_fbi_heavy_r870"):key()] = "zeal_heavy_swat",
	[("units/payday2/characters/ene_city_heavy_r870/ene_city_heavy_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_cs_heavy_r870/ene_akan_cs_heavy_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_mad/characters/ene_akan_fbi_heavy_r870/ene_akan_fbi_heavy_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_hvh/characters/ene_swat_heavy_hvh_r870/ene_swat_heavy_hvh_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_hvh/characters/ene_fbi_heavy_hvh_r870/ene_fbi_heavy_hvh_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bph/characters/ene_murkywater_heavy_shotgun/ene_murkywater_heavy_shotgun"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_heavy_policia_federale_r870/ene_swat_heavy_policia_federale_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_bex/characters/ene_swat_heavy_policia_federale_fbi_r870/ene_swat_heavy_policia_federale_fbi_r870"):key()] = "zeal_heavy_swat",
	[("units/pd2_dlc_drm/characters/ene_zeal_swat_heavy_sniper/ene_zeal_swat_heavy_sniper"):key()] = "zeal_heavy_swat",

	[("units/pd2_dlc_drm/characters/ene_bulldozer_minigun_classic/ene_bulldozer_minigun_classic"):key()] = "tank",
	[("units/pd2_dlc_drm/characters/ene_bulldozer_minigun/ene_bulldozer_minigun"):key()] = "tank",
	[("units/pd2_dlc_bph/characters/ene_murkywater_bulldozer_1/ene_murkywater_bulldozer_1"):key()] = "tank",
	[("units/pd2_dlc_bex/characters/ene_swat_dozer_policia_federale_minigun/ene_swat_dozer_policia_federale_minigun"):key()] = "tank",
}

local saiga_dozer = { "saiga", "benelli", }
Hooks:PreHook( CopBase, "post_init", "lsd_post_init", function(self)
	if self._tweak_table == "tank" then
		local stats_name = self._stats_name

		if stats_name == "tank_skull" then
			self._default_weapon_id = "m249" -- rpk is broken in u240.5
		elseif stats_name == "tank_black" then
			self._default_weapon_id = table.random(saiga_dozer)
		end
	end

	self._post_init_change_tweak_name = tweak_mapping[self._unit:name():key()] or self._post_init_change_tweak_name
end )

if Global.game_settings and Global.game_settings.single_player then
	return
end

Hooks:PostHook( CopBase, "change_char_tweak", "lsd_change_char_tweak", function(self, new_tweak_name)
	if new_tweak_name ~= self._tweak_table and tweak_data.character[new_tweak_name] then
		managers.network:session():send_to_peers_synched("sync_change_char_tweak", self._unit, new_tweak_name)
	end
end )


